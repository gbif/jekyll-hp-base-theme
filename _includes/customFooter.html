{% assign footer = site.data[page.lang].footer | default: site.data.footer %}

<div class="footer">
  <div>
    {% if page.layout != 'index' and page.lang-ref%}
      {% assign posts = site.posts | where: "lang-ref", page.lang-ref | sort: 'lang' %}
      {% if posts.size == 0 %}
          {% assign posts=site.pages | where:"lang-ref", page.lang-ref | sort: 'lang' %}
      {% endif %}
      {% if posts.size > 1 %}
      <div class="lang-options">
          <em>{{ site.data.translations['differentLanguage'][page.lang] }}:</em>
          <ul>
          {% for post in posts %}
          <li>
            <a href="{{ site.base-url }}{{ post.url }}" class="{{ post.lang }}" title="View in {{post.lang}}">
              <!-- {% if site.data.languages[post.lang].icon %}
              <img src="{{ site.data.languages[post.lang].icon }}" style="margin-right: 6px; height:1em;" />
              {% endif %} -->
              {{ site.data.languages[post.lang].label }}
            </a>
          </li>
          {% endfor %}
          </ul>
      </div>
      {% endif %}
    {% endif %}
  </div>
  <div>
    <div class="footer-groups">
      {% for col in footer.columns %}
      <div class="footer-column">
        <p class="footer-column-name">{{ col.name }}</p>
        {% if col.description %}
        <div class="footer-description">
          {{ col.description | markdownify }}
        </div>
        {% endif %}
        {% if col.links %}
        <ul class="footer-links">
          {% for item in col.links %}
          <li>
            <a href="{{ item.href | relative_url}}">{{ item.text }}</a>
          </li>
          {% endfor %}
        </ul>
        {% endif %}
        
        {% if col.connectIcons %}
        <ul class="footer-online-list">
          {% if site.twitter_username %}
          <li>
            <a href="https://twitter.com/{{ site.twitter_username }}">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa-brands fa-x-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          {% endif %}
          {% if site.github_username %}
          <li>
            <a href="https://github.com/{{ site.github_username }}">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          {% endif %}
          {% if site.youtube_username %}
          <li>
            <a href="https://www.youtube.com/user/{{ site.youtube_username }}">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-youtube fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          {% endif %}
          {% if site.facebook_username %}
          <li>
            <a href="https://www.facebook.com/{{ site.facebook_username }}">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          {% endif %}
          {% if site.instagram_username %}
          <li>
            <a href="https://www.instagram.com/{{ site.instagram_username }}">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          {% endif %}
          {% if site.flickr_username %}
          <li>
            <a href="https://www.flickr.com/photos/{{ site.flickr_username }}">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-flickr fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          {% endif %}
          {% if site.bluesky_username %}
          <li>
            <a href="https://bsky.app/profile/{{ site.bluesky_username }}">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa-brands fa-bluesky fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          {% endif %}
          {% if site.mastodon_url %}
          <li>
            <a href="{{ site.mastodon_url }}">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa-brands fa-mastodon fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          {% endif %}
          {% if site.email %}
          <li>
            <a href="mailto:{{ site.email }}">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          {% endif %}
        </ul>
        {% endif %}

      </div>
      {% endfor %}
    </div>

    {% if footer.other %}
    <div class="footer-footer">
      {{ footer.other | markdownify }}
    </div>
    {% endif %}

  </div>
</div>